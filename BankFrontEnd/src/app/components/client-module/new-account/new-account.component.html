<div class="p-3 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50" role="alert"
    *ngIf="this.errorMessage">
    <span class="font-medium text-center">{{this.errorMessage}}</span>
</div>
<h3 class="font-mulish text-2xl font-semibold border-b border-slate-300 pb-8">Account Opening</h3>
<form [formGroup]="accountCreationForm" (ngSubmit)="createAccount()">
    <div class="grid lg:grid-cols-12 py-10 border-b border-slate-300 gap-y-4 lg:gap-x-4 lg:gap-y-0">
        <div class="lg:col-span-5">
            <h4 class="mb-3 font-bold text-xl font-mulish">Form</h4>
            <span class="capitalize font-mulish text-base text-slate-600">
                We are exited on you choosing to open another account
                with us at Handle Money! We appreciate your continued
                trust in using our banking web app.
            </span>
        </div>
        <div class="lg:col-span-7">
            <label for="accountSelection" class="pb-2.5 font-mulish text-base font-medium capitalize block mb-1">Type of
                account</label>
            <select
                class="bg-lightgray border border-black text-gray-900 text-sm rounded-lg focus:ring-primaryGreenLightActive focus:ring-4 block w-full p-3.5"
                id="accountSelection" formControlName="accountType"
                [ngClass]="{'is-invalid':isSubmitted && accountCreationForm.controls['accountType'].errors}" required>
                <option selected value="">Select...</option>
                <option value="checkings">Checking</option>
                <option value="savings">Savings</option>
            </select>
            <div *ngIf=" isSubmitted && accountCreationForm.controls['accountType'].hasError('required')"
                class="text-red-600">
                Please Seleact A Type Of Account
            </div>
        </div>
    </div>

    <div class="grid lg:grid-cols-12 pt-10 mb-8 gap-y-4 lg:gap-x-4 lg:gap-y-0">
        <div class="lg:col-span-5">
            <h4 class="mb-3 font-bold text-xl font-mulish">Agreement</h4>
            <span class="capitalize font-mulish text-base text-slate-600">
                Please read, review and agree to the 2 terms to enable
                you open another account on Handle Money web app.
            </span>

        </div>
        <div class="lg:col-span-7 flex flex-col justify-center">
            <div class="pb-3.5">
                <input class="border-2 border-gray-500 rounded py-2 px-2 me-2 bg-lightgray" type="checkbox"
                    [ngClass]="{'is-invalid':isSubmitted && accountCreationForm.controls['termsBox'].errors}"
                    id="termsCheck" formControlName="termsBox" required>
                <label class="text-base font-mulish font-medium" for="termsCheck">
                    I agree to the Handle Money Terms and Conditions
                </label>
                <div *ngIf=" isSubmitted && accountCreationForm.controls['termsBox'].hasError('required')"
                    class="text-red-600">
                    Please Check This Box
                </div>
            </div>
            <div>
                <input class="border-2 border-gray-500 rounded py-2 px-2 me-2 bg-lightgray" type="checkbox"
                    [ngClass]="{'is-invalid':isSubmitted && accountCreationForm.controls['privacyBox'].errors}"
                    id="privacyCheck" formControlName="privacyBox" required>
                <label class="text-base font-mulish font-medium" for="privacyCheck">
                    I consent to the Handle Money Privacy Policy
                </label>
            </div>
            <div *ngIf=" isSubmitted && accountCreationForm.controls['privacyBox'].hasError('required')"
                class="text-red-600">
                Please Check This Box
            </div>
        </div>
    </div>
    <div class="text-center pb-10">
        <button type="submit" data-modal-target="popup-modal"
            class="w-80 h-14 bg-primaryGreen rounded-md font-mulish text-white font-bold text-xl hover:bg-primaryGreenHover">Submit</button>
    </div>
</form>

<div #popupModal id="popup-modal" tabindex="-1"
    class="hidden fixed inset-0 z-50 overflow-auto bg-gray-900 bg-opacity-50">
    <div class="flex items-center justify-center min-h-screen w-3/5 mx-auto">
        <div class="bg-white rounded-lg shadow-lg">
            <div class="p-4 md:p-5 text-center">
                <button type="button" (click)="closeModal()"
                    class="absolute top-3 right-3 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                    </svg>
                    <span class="sr-only">Close modal</span>
                </button>
                <div class="p-4 md:p-5 text-center">
                    <p class="capitalize font-mulish text-base font-normal mb-0 p-10">Thank you for choosing Handle
                        Money! Your account will be created, and you will receive a confirmation email shortly. If you
                        need further assistance, please contact our support team at support@handlemoney.co</p>
                    <button (click)="closeModal()"
                        class="text-white bg-primaryGreen rounded-md font-mulish hover:bg-primaryGreenHover rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">Got
                        It</button>
                </div>
            </div>
        </div>
    </div>
</div>